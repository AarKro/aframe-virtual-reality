<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Virtual Reality</title>

  <script src="https://aframe.io/releases/1.6.0/aframe.min.js"></script>
  <script src="//cdn.rawgit.com/donmccurdy/aframe-physics-system/v2.1.0/dist/aframe-physics-system.min.js"></script>
  <script src="https://unpkg.com/super-hands@2.0.2/dist/super-hands.min.js"></script>
  <script src="https://unpkg.com/aframe-physics-extras@0.1.2/dist/aframe-physics-extras.min.js"></script>
  <script src="./index.js"></script>
</head>
<body>

  <a-scene>
    <a-assets>
      <a-mixin 
        id="controller"
        physics-collider
        static-body="shape: sphere; sphereRadius: 0.02"
        super-hands="colliderEvent: collisions; colliderEventProperty: els; colliderEndEvent: collisions; colliderEndEventProperty: clearedEls"
        collision-filter = "group: hands; collidesWith: grabbable; collisionForces: false"
      >
      </a-mixin>
      <a-mixin id="cube" dynamic-body grabbable geometry="primitive: box; width: 0.3; height: 0.3; depth: 0.3"></a-mixin>
    </a-assets>

    <a-entity id="leftHand" hand-controls="hand: left; handModelStyle: lowPoly; color: #ffcccc" mixin="controller"></a-entity>
    <a-entity id="rightHand" hand-controls="hand: right; handModelStyle: lowPoly; color: #ffcccc" mixin="controller"></a-entity>
    
    <!-- objects -->
    <a-box id="floor" static-body collision-filter="group: env; collidesWith: default, grabbable" position="0 0 -3" width="20" height="0.2" depth="20" color="lightgreen"></a-box>
    <a-box id="table" static-body collision-filter="group: env; collidesWith: default, grabbable" position="-2 0 -2" width="1" height="1.5" depth="5" color="green"></a-box>
    <a-box id="stage" static-body collision-filter="group: env; collidesWith: default, grabbable" position="2 0 -2" width="1.3" height="1" depth="1.3" color="pink"></a-box>

    <a-entity mixin="cube" position="-2 1 -1" material="color: red" collision-filter="group: grabbable; collidesWith: default, hands, env"></a-entity>
    <a-entity mixin="cube" position="-2 1 -2" material="color: yellow" collision-filter="group: grabbable; collidesWith: default, hands, env"></a-entity>
    <a-entity mixin="cube" position="-2 1 -3" material="color: blue" collision-filter="group: grabbable; collidesWith: default, hands, env"></a-entity>
    
    <!-- environment -->
    <a-box width="20" depth="20" height="0.1" static-body collision-filter="collidesWith: red, blue" material="color: #7BC8A4"></a-box>
  </a-scene>

</body>
</html>